function [g,q] = rc_pulse(sps,L)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 产生升余弦脉冲函数g，和其积分函数q
% sps：每个符号杨点数
% L：记忆长度
% g,q：返回相应的函数，以函数值的向量形式给出。
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
T = 1;          %一个符号时间长度
Ts = T/sps;     %每个样点的时间
N = L*sps;      %关联长度类点数，也即g函数不为零长度
g = zeros(1,N);q = zeros(1,N);

for i = 1:N
    % 升余弦脉冲波形g
    g(i) = (1-cos(2*pi*(i-1)*Ts/(L*T)))/(2*L*T);
end

q(1) = g(1)*Ts;
for n = 2:N
    % 对g积分得q
    q(n) = q(n-1) + g(n)*Ts;
end

